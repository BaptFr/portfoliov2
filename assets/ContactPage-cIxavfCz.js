import{r as g,j as a}from"./index-DkLhKG-y.js";import{S as E}from"./ScrollToTopButton-WY8595hA.js";const M="_contactPageContainer_13kln_1",V="_contactContainer_13kln_11",H="_articleContainer_13kln_34",w={contactPageContainer:M,contactContainer:V,articleContainer:H},q="_linesContainer_1pnke_1",z="_contactModal_1pnke_26",B="_contactModalContent_1pnke_38",b={linesContainer:q,contactModal:z,contactModalContent:B};class x{constructor(s=0,t="Network Error"){this.status=s,this.text=t}}const K=()=>{if(!(typeof localStorage>"u"))return{get:e=>Promise.resolve(localStorage.getItem(e)),set:(e,s)=>Promise.resolve(localStorage.setItem(e,s)),remove:e=>Promise.resolve(localStorage.removeItem(e))}},o={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:K()},k=e=>e?typeof e=="string"?{publicKey:e}:e.toString()==="[object Object]"?e:{}:{},D=(e,s="https://api.emailjs.com")=>{if(!e)return;const t=k(e);o.publicKey=t.publicKey,o.blockHeadless=t.blockHeadless,o.storageProvider=t.storageProvider,o.blockList=t.blockList,o.limitRate=t.limitRate,o.origin=t.origin||s},C=async(e,s,t={})=>{const r=await fetch(o.origin+e,{method:"POST",headers:t,body:s}),n=await r.text(),i=new x(r.status,n);if(r.ok)return i;throw i},_=(e,s,t)=>{if(!e||typeof e!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!s||typeof s!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!t||typeof t!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},A=e=>{if(e&&e.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},S=e=>e.webdriver||!e.languages||e.languages.length===0,P=()=>new x(451,"Unavailable For Headless Browser"),O=(e,s)=>{if(!Array.isArray(e))throw"The BlockList list has to be an array";if(typeof s!="string")throw"The BlockList watchVariable has to be a string"},$=e=>{var s;return!((s=e.list)!=null&&s.length)||!e.watchVariable},U=(e,s)=>e instanceof FormData?e.get(s):e[s],L=(e,s)=>{if($(e))return!1;O(e.list,e.watchVariable);const t=U(s,e.watchVariable);return typeof t!="string"?!1:e.list.includes(t)},N=()=>new x(403,"Forbidden"),Z=(e,s)=>{if(typeof e!="number"||e<0)throw"The LimitRate throttle has to be a positive number";if(s&&typeof s!="string")throw"The LimitRate ID has to be a non-empty string"},I=async(e,s,t)=>{const r=Number(await t.get(e)||0);return s-Date.now()+r},R=async(e,s,t)=>{if(!s.throttle||!t)return!1;Z(s.throttle,s.id);const r=s.id||e;return await I(r,s.throttle,t)>0?!0:(await t.set(r,Date.now().toString()),!1)},T=()=>new x(429,"Too Many Requests"),J=async(e,s,t,r)=>{const n=k(r),i=n.publicKey||o.publicKey,j=n.blockHeadless||o.blockHeadless,d=n.storageProvider||o.storageProvider,f={...o.blockList,...n.blockList},h={...o.limitRate,...n.limitRate};return j&&S(navigator)?Promise.reject(P()):(_(i,e,s),A(t),t&&L(f,t)?Promise.reject(N()):await R(location.pathname,h,d)?Promise.reject(T()):C("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:i,service_id:e,template_id:s,template_params:t}),{"Content-type":"application/json"}))},W=e=>{if(!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},G=e=>typeof e=="string"?document.querySelector(e):e,Q=async(e,s,t,r)=>{const n=k(r),i=n.publicKey||o.publicKey,j=n.blockHeadless||o.blockHeadless,d=o.storageProvider||n.storageProvider,f={...o.blockList,...n.blockList},h={...o.limitRate,...n.limitRate};if(j&&S(navigator))return Promise.reject(P());const p=G(t);_(i,e,s),W(p);const m=new FormData(p);return L(f,m)?Promise.reject(N()):await R(location.pathname,h,d)?Promise.reject(T()):(m.append("lib_version","4.4.1"),m.append("service_id",e),m.append("template_id",s),m.append("user_id",i),C("/api/v1.0/email/send-form",m))},X={init:D,send:J,sendForm:Q,EmailJSResponseStatus:x},Y=()=>{const[e,s]=g.useState({name:"",email:"",message:""}),[t,r]=g.useState({name:"",email:"",message:""}),[n,i]=g.useState(""),[j,d]=g.useState(!1),[f,h]=g.useState(!1),p=u=>!/\d/.test(u),m=u=>/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(u),y=u=>{const{name:l,value:v}=u.target;s({...e,[l]:v}),l==="name"&&(p(v)?r(c=>({...c,name:""})):r(c=>({...c,name:"Le nom ne doit pas contenir de chiffres."}))),l==="email"&&(m(v)?r(c=>({...c,email:""})):r(c=>({...c,email:"Email invalide..."}))),l==="message"&&(v.length>500?r(c=>({...c,message:"Le message ne doit pas dépasser 500 caractères."})):r(c=>({...c,message:""})))},F=u=>{if(u.preventDefault(),!e.name||!e.email||!e.message||t.name||t.email||t.message){i("Veuillez corriger les erreurs avant de soumettre.");return}d(!0),X.send("service_xzurgm9","template_70bgpvq",{from_name:e.name,email:e.email,message:e.message},"BM_-CoqKsDlnshRw7").then(l=>{console.log("Form send SUCCESS!",l.status,l.text),s({name:"",email:"",message:""}),i("Votre message a été envoyé avec succès !"),d(!1),h(!0)}).catch(l=>{console.log("FAILED...",l),i("Une erreur s'est produite, veuillez réessayer."),d(!1)})};return a.jsxs("div",{children:[a.jsxs("form",{className:"d-flex flex-column all-center ",onSubmit:F,children:[a.jsxs("div",{className:b.linesContainer,children:[a.jsx("label",{htmlFor:"name",children:"Votre nom"}),a.jsx("input",{type:"text",id:"name",name:"name",value:e.name,onChange:y,maxLength:30,required:!0,style:{borderColor:t.name?"red":""}}),t.name&&a.jsx("p",{style:{color:"red"},children:t.name})]}),a.jsxs("div",{className:b.linesContainer,children:[a.jsx("label",{htmlFor:"email",children:"Email"}),a.jsx("input",{type:"email",id:"email",name:"email",value:e.email,onChange:y,required:!0,style:{borderColor:t.email?"red":""}}),t.email&&a.jsx("p",{style:{color:"red"},children:t.email})]}),a.jsxs("div",{className:b.linesContainer,children:[a.jsx("label",{htmlFor:"message",children:"Message"}),a.jsx("textarea",{id:"message",name:"message",value:e.message,onChange:y,maxLength:500,required:!0,style:{borderColor:t.message?"red":""}}),t.message&&a.jsx("p",{style:{color:"red"},children:t.message})]}),a.jsx("button",{className:"btn-blue",type:"submit",children:"Envoyer"})]}),n&&a.jsx("p",{children:n})," ",f&&a.jsx("div",{className:b.contactModal,children:a.jsxs("div",{className:b.contactModalContent,children:[a.jsx("p",{children:"Votre message a été envoyé avec succès !"}),a.jsx("button",{onClick:()=>h(!1),children:"Fermer"})]})})]})};function se(){const e=g.useRef(null);return a.jsxs("div",{className:"d-flex flex-column all-center gap-50",children:[a.jsx("h1",{className:"relative m-50 text-shadow-outline",children:" ME CONTACTER "}),a.jsx("section",{ref:e,className:`${w.contactPageContainer}  section d-flex flex-column justify-content-sb align-items-center wrap br-10`,children:a.jsxs("div",{className:`${w.contactContainer}  d-flex flex-row all-center text-center gap-50 p-30 wrap`,children:[a.jsx(E,{targetRef:e}),a.jsxs("div",{className:`${w.articleContainer} d-flex flex-column p-40 gap-100  `,children:[a.jsx("article",{className:"text-align-center",children:a.jsxs("p",{children:["Vous souhaitez échanger à propos d'un projet ou une autre demande ? ",a.jsx("br",{}),"N'hésitez surtout pas à me contacter soit par mes réseaux, soit directement en remplissant le formulaire et je vous répondrai dans les plus brefs délais !"]})}),a.jsxs("div",{className:"d-flex fex-row justify-content-sa gap-20",children:[a.jsx("a",{href:"https://www.linkedin.com/in/baptiste-salazar",target:"_blank",rel:"noopener noreferrer",children:a.jsx("img",{src:"assets/logos/linkedin-logo.webp",alt:"linkedin-link m-auto relative",className:"image-btn-link"})}),a.jsx("a",{href:"https://github.com/BaptFr",target:"_blank",rel:"noopener noreferrer",children:a.jsx("img",{src:"assets/logos/github-logo-blue.webp",alt:"github-link m-auto relative",className:"image-btn-link"})})]})]}),a.jsx("div",{children:a.jsx(Y,{})})]})})]})}export{se as default};
